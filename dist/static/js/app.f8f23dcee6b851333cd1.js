webpackJsonp([1],{0:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("7+uW"),l={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("el-row",[a("el-menu",{staticClass:"el-menu",attrs:{"default-active":t.defaultActive,mode:"horizontal","background-color":"#303133","text-color":"#FFFFFF","active-text-color":"#409EFF"},on:{select:t.handleSelect}},[a("el-menu-item",{attrs:{index:"0"}},[a("span",{staticClass:"my_header"},[t._v("FA达成率编辑平台")])]),t._v(" "),a("el-menu-item",{attrs:{index:"1"}},[t._v("Edit OTD")]),t._v(" "),a("el-menu-item",{attrs:{index:"2"}},[t._v("Upload File")])],1)],1),t._v(" "),a("router-view")],1)},staticRenderFns:[]};var i=a("VU/8")({name:"App",data:function(){return{defaultActive:"",activePath:""}},methods:{handleSelect:function(t,e){"1"===e[0]?this.activePath!==e[0]&&(this.activePath=e[0],this.$router.push("/editOtd")):"2"===e[0]?this.activePath!==e[0]&&(this.activePath=e[0],this.$router.push("/uploadFile")):(this.activePath=e[0],this.$router.push("/"))}}},l,!1,function(t){a("XjIB")},null,null).exports,o=a("/ocq"),s={data:function(){return{isEditing:!0,rowDataEditing:{},loading:!0}},methods:{updateOtdData:function(t){var e=this;console.log(t),this.$http.get("/update_otd?plan_qty="+t.plan_qty+"&actual_qty="+t.actual_qty+"&id="+t.id).then(function(t){"success"===t.data?e.$notify({title:"成功",message:"更新成功",type:"success"}):e.$notify.error({title:"错误",message:"更新失败"})})}},props:["tableData"]},r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[a("el-table-column",{attrs:{prop:"plan_date",label:"PlanDate",align:"center",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{directives:[{name:"show",rawName:"v-show",value:!e.row.isEditing,expression:"!scope.row.isEditing"}]},[t._v(t._s(e.row.plan_date))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"plan_qty",label:"PlanQty",align:"center",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{directives:[{name:"show",rawName:"v-show",value:!0,expression:"true"}],model:{value:e.row.plan_qty,callback:function(a){t.$set(e.row,"plan_qty",a)},expression:"scope.row.plan_qty"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"actual_qty",label:"ActualQty",align:"center",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{directives:[{name:"show",rawName:"v-show",value:!0,expression:"true"}],model:{value:e.row.actual_qty,callback:function(a){t.$set(e.row,"actual_qty",a)},expression:"scope.row.actual_qty"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"AchievingRate"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{directives:[{name:"show",rawName:"v-show",value:!0,expression:"true"}]},[t._v(t._s(100*(e.row.actual_qty/e.row.plan_qty).toFixed(2)+"%"))])]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"Action"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.updateOtdData(e.row)}}},[t._v("提交")])]}}])})],1)},staticRenderFns:[]},c={data:function(){return{tableData1:[],tableData2:[],loading:!0}},methods:{getOtdData:function(){this.$http.get("/get_otd").then(function(t){console.log(t)})}},mounted:function(){var t=this;this.$http.get("/get_otd").then(function(e){t.tableData1=e.data.gx,t.tableData2=e.data.hz,t.loading=!1})},components:{"otd-table":a("VU/8")(s,r,!1,null,null,null).exports}},u={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}]},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-card",{staticClass:"box-card"},[a("h3",[a("i",{staticClass:"el-icon-edit"}),t._v("GX达成数据")]),t._v(" "),a("otd-table",{attrs:{tableData:t.tableData1}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-card",{staticClass:"box-card"},[a("h3",[a("i",{staticClass:"el-icon-edit"}),t._v("HZ达成数据")]),t._v(" "),a("otd-table",{attrs:{tableData:t.tableData2}})],1)],1)],1)],1)},staticRenderFns:[]};var d=a("VU/8")(c,u,!1,function(t){a("tuQr")},"data-v-538d9c48",null).exports,p={data:function(){return{fileList:[]}},created:function(){var t=this;this.$http.get("/get_file").then(function(e){t.fileList=e.data})},methods:{submitUpload:function(){this.$refs.upload.submit(),this.$notify({title:"成功",message:"更新成功,请等待几分钟后刷新wip",type:"success"})},handleRemove:function(t,e){console.log(t,e)},handlePreview:function(t){console.log(t)}}},v={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-row",[a("el-col",{attrs:{span:12}},[a("h3",[t._v("文件上传")]),t._v(" "),a("el-divider"),t._v(" "),a("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{action:"/submit_upload_file","on-preview":t.handlePreview,"on-remove":t.handleRemove,"file-list":t.fileList,"auto-upload":!1}},[a("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[t._v("选取文件")]),t._v(" "),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"small",type:"success"},on:{click:t.submitUpload}},[t._v("上传到服务器")]),t._v(" "),a("p",[t._v("目前已上传的文件为")]),t._v(" "),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("请仅上传1个文件")])],1),t._v(" "),a("el-card",{staticClass:"box-card"},[a("p",[t._v("请确保文件中日期等数据格式的准确性")]),t._v(" "),a("p",[t._v("上传的文件会被改名为：NPI_Plan_Summary")]),t._v(" "),a("p",[t._v("上传文件后，WIP数据会被刷新")])])],1),t._v(" "),a("cl-col",{attrs:{span:12}})],1)},staticRenderFns:[]};var _=a("VU/8")(p,v,!1,function(t){a("rdN/")},"data-v-950970a6",null).exports;n.default.use(o.a);var f=new o.a({routes:[{path:"/editOtd",name:"EditOtd",component:d},{path:"/UploadFile",name:"Upload",component:_}]}),h=a("zL8q"),m=a.n(h),w=a("8+8L");a("tvR6");n.default.config.productionTip=!1,n.default.use(m.a),n.default.use(w.a),new n.default({el:"#app",router:f,components:{App:i},template:"<App/>"})},XjIB:function(t,e){},"rdN/":function(t,e){},tuQr:function(t,e){},tvR6:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.f8f23dcee6b851333cd1.js.map